<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daftar Artikel Otomatis - Kang Ruli</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px; background-color: #f6f8fa; }
        h1 { border-bottom: 1px solid #d0d7de; padding-bottom: 10px; color: #1f2328; }
        ul { list-style: none; padding: 0; }
        li { background: white; margin-bottom: 10px; padding: 15px; border: 1px solid #d0d7de; border-radius: 6px; transition: 0.2s; }
        li:hover { border-color: #0969da; box-shadow: 0 3px 10px rgba(0,0,0,0.1); }
        a { text-decoration: none; color: #0969da; font-weight: bold; font-size: 1.1rem; }
        .date { font-size: 0.85rem; color: #656d76; display: block; margin-top: 5px; }
        #loading { color: #656d76; font-style: italic; }
    </style>
</head>
<body>

    <h1>Arsip Artikel Kang Ruli</h1>
    <div id="loading">Memuat artikel terbaru...</div>
    <ul id="article-list"></ul>

    <script>
        // Konfigurasi
        const blogUrl = "https://www.kangruli.web.id";
        // Menggunakan feed Blogger (JSON format)
        const feedUrl = `${blogUrl}/feeds/posts/default?alt=json&max-results=50`;

        async function fetchArticles() {
            try {
                const response = await fetch(feedUrl);
                if (!response.ok) throw new Error("Gagal mengambil data");
                
                const data = await response.json();
                const entries = data.feed.entry;
                const listContainer = document.getElementById('article-list');
                const loadingText = document.getElementById('loading');

                loadingText.style.display = 'none';

                entries.forEach(entry => {
                    const title = entry.title.$t;
                    // Cari link yang rel="alternate"
                    const link = entry.link.find(l => l.rel === 'alternate').href;
                    const published = new Date(entry.published.$t).toLocaleDateString('id-ID', {
                        year: 'numeric', month: 'long', day: 'numeric'
                    });

                    const li = document.createElement('li');
                    li.innerHTML = `
                        <a href="${link}" target="_blank">${title}</a>
                        <span class="date">Terbit: ${published}</span>
                    `;
                    listContainer.appendChild(li);
                });
            } catch (error) {
                console.error(error);
                document.getElementById('loading').innerText = "Gagal memuat artikel. Pastikan CORS diizinkan atau gunakan proxy.";
            }
        }

        fetchArticles();
    </script>
</body>
</html>
